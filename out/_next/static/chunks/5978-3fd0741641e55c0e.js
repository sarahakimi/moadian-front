"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5978],{3821:function(e,t,n){var r=n(85893),i=(n(67294),n(45697)),a=n.n(i),l=n(84808),d=n(11048);function o(e){var t=e.open;return(0,r.jsx)(l.Z,{sx:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:function(e){return e.zIndex.drawer+1}},open:t,children:(0,r.jsx)(d.Z,{})})}o.propTypes={open:a().bool.isRequired},t.Z=o},25978:function(e,t,n){n.r(t);var r=n(85893),i=n(67294),a=n(99226),l=n(46901),d=n(79668),o=n(59814),c=n(4718),s=n(69417),u=n(74931),m=n(19755),h=n.n(m),b=n(5370),p=n(15861),f=n(3821);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}function w(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(e){var t=e.rows,n=e.setRows,m=e.handleNext,g=(0,i.useState)({}),v=g[0],A=g[1],N=(0,i.useState)(!1),j=N[0],Z=N[1];(0,i.useEffect)((function(){setTimeout((function(){var e=h()(".MuiDataGrid-virtualScroller");e.scrollLeft(e.width())}),100)}),[]);var C=[{field:"taxid",headerName:"\u0634\u0645\u0627\u0631\u0647 \u0645\u0646\u062d\u0635\u0631\u0628\u0641\u0631\u062f \u0645\u0627\u0644\u06cc\u0627\u062a\u06cc",type:"string",editable:!0,align:"center",headerAlign:"center",width:200,renderCell:function(e){var t=e.row;return(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(p.Z,{noWrap:!0,variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:t.taxid})})}},{field:"indatim",headerName:"\u062a\u0627\u0631\u06cc\u062e \u0648 \u0632\u0645\u0627\u0646 \u0635\u062f\u0648\u0631 \u0635\u0648\u0631\u062a\u062d\u0633\u0627\u0628(\u0645\u06cc\u0644\u0627\u062f\u06cc)",type:"number",editable:!0,align:"center",headerAlign:"center",width:200,renderCell:function(e){var t=e.row;return(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(p.Z,{noWrap:!0,variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:t.indatim})})}},{field:"inty",headerName:"\u0646\u0648\u0639 \u0635\u0648\u0631\u062a \u062d\u0633\u0627\u0628",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"inno",headerName:"\u0633\u0631\u06cc\u0627\u0644 \u0635\u0648\u0631\u062a \u062d\u0633\u0627\u0628",type:"string",editable:!0,align:"center",headerAlign:"center",width:200,renderCell:function(e){var t=e.row;return(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(p.Z,{noWrap:!0,variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:t.inno})})}},{field:"inp",headerName:"\u0627\u0644\u06af\u0648\u06cc \u0635\u0648\u0631\u062a \u062d\u0633\u0627\u0628",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"ins",headerName:"\u0645\u0648\u0636\u0648\u0639 \u0635\u0648\u0631\u062a \u062d\u0633\u0627\u0628",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"tins",headerName:"\u0634\u0645\u0627\u0631\u0647 \u0627\u0642\u062a\u0635\u0627\u062f\u06cc \u0641\u0631\u0648\u0634\u0646\u062f\u0647",type:"number",editable:!0,align:"center",headerAlign:"center",width:200,renderCell:function(e){var t=e.row;return(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(p.Z,{noWrap:!0,variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:t.tins})})}},{field:"tob",headerName:"\u0646\u0648\u0639 \u0634\u062e\u0635 \u062e\u0631\u06cc\u062f\u0627\u0631",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"tinb",headerName:"\u0634\u0645\u0627\u0631\u0647 \u0627\u0642\u062a\u0635\u0627\u062f\u06cc \u062e\u0631\u06cc\u062f\u0627\u0631",type:"string",editable:!0,align:"center",headerAlign:"center",width:200,renderCell:function(e){var t=e.row;return(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(p.Z,{noWrap:!0,variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:t.tinb})})}},{field:"tprdis",headerName:"\u0645\u062c\u0645\u0648\u0639 \u0645\u0628\u0644\u063a \u0642\u0628\u0644 \u0627\u0632 \u06a9\u0633\u0631 \u062a\u062e\u0641\u06cc\u0641",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"tdis",headerName:"\u0645\u062c\u0645\u0648\u0639 \u0646\u062e\u0641\u0628\u0641\u0627\u062a",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"tadis",headerName:"\u0645\u062c\u0645\u0648\u0639 \u0645\u0628\u0644\u063a \u067e\u0633 \u0627\u0632 \u06a9\u0633\u0631 \u062a\u062e\u0641\u06cc\u0641",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"tvam",headerName:"\u0645\u062c\u0645\u0648\u0639 \u0645\u0627\u0644\u06cc\u0627\u062a \u0628\u0631 \u0627\u0631\u0632\u0634 \u0627\u0641\u0632\u0648\u062f\u0647",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"todam",headerName:"\u0645\u062c\u0645\u0648\u0639 \u0633\u0627\u06cc\u0631 \u0645\u0627\u0644\u06cc\u0627\u062a\u060c \u0639\u0648\u0627\u0631\u0636 \u0648 \u0648\u062c\u0648\u0647 \u0642\u0627\u0646\u0648\u0646\u06cc",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"tbill",headerName:"\u0645\u062c\u0645\u0648\u0639 \u0635\u0648\u0631\u062a\u062d\u0633\u0627\u0628",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"setm",headerName:"\u0631\u0648\u0634 \u062a\u0633\u0648\u06cc\u0647",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"cap",headerName:"\u0645\u0628\u0644\u063a \u067e\u0631\u062f\u0627\u062e\u062a\u06cc \u0646\u0642\u062f\u06cc",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"tvop",headerName:"\u0645\u062c\u0645\u0648\u0639 \u0633\u0647\u0645 \u0645\u0627\u0644\u06cc\u0627\u062a \u0628\u0631 \u0627\u0631\u0632\u0634 \u0627\u0641\u0632\u0648\u062f\u0647 \u0627\u0632 \u067e\u0631\u062f\u0627\u062e\u062a",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"sstid",headerName:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0644\u0627/\u062e\u062f\u0645\u062a",type:"number",editable:!0,align:"center",headerAlign:"center",width:200,renderCell:function(e){var t=e.row;return(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(p.Z,{noWrap:!0,variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:t.sstid})})}},{field:"mu",headerName:"\u0648\u0627\u062d\u062f \u0627\u0646\u062f\u0627\u0632\u0647 \u06af\u06cc\u0631\u06cc",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"am",headerName:"\u0646\u0639\u062f\u0627\u062f/\u0645\u0642\u062f\u0627\u0631",type:"number",editable:!0,align:"center",headerAlign:"center",width:200,renderCell:function(e){var t=e.row;return(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(p.Z,{noWrap:!0,variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:t.am})})}},{field:"fee",headerName:"\u0645\u0628\u0644\u063a \u0648\u0627\u062d\u062f",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"prdis",headerName:"\u0645\u0628\u0644\u063a \u0642\u0628\u0644 \u0627\u0632 \u062a\u062e\u0641\u06cc\u0641",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"dis",headerName:"\u0645\u0628\u0644\u063a \u062a\u062e\u0641\u06cc\u0641",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"adis",headerName:"\u0645\u0628\u0644\u063a \u0628\u0639\u062f \u0627\u0632 \u062a\u062e\u0641\u06cc\u0641",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"vra",headerName:"\u0646\u0631\u062e \u0645\u0627\u0644\u06cc\u0627\u062a \u0628\u0631 \u0627\u0631\u0632\u0634 \u0627\u0641\u0632\u0648\u062f\u0647",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"vam",headerName:"\u0645\u0628\u0644\u063a \u0645\u0627\u0644\u06cc\u0627\u062a \u0628\u0631 \u0627\u0631\u0632\u0634 \u0627\u0641\u0632\u0648\u062f\u0647",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"odam",headerName:"\u0645\u0628\u0644\u063a \u0633\u0627\u06cc\u0631 \u0645\u0627\u0644\u06cc\u0627\u062a \u0648 \u0639\u0648\u0627\u0631\u0636",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"vop",headerName:"\u0633\u0647\u0645 \u062a\u0631\u0632\u0634 \u0627\u0641\u0632\u0648\u062f\u0647 \u0627\u0632 \u067e\u0631\u062f\u0627\u062e\u062a",type:"number",editable:!0,align:"center",headerAlign:"center",width:200},{field:"tsstam",headerName:"\u0645\u0628\u0644\u063a \u06a9\u0644 \u06a9\u0627\u0644\u0627/\u062e\u062f\u0645\u0627\u062a",type:"number",editable:!0,align:"center",headerAlign:"center",width:200}],k=(0,i.useCallback)((function(e,t){e.isEditable&&t.currentTarget.contains(t.target)&&A((function(t){return x({},Object.keys(t).reduce((function(e,n){return x({},e,y({},n,Object.keys(t[n]).reduce((function(e,t){return x({},e,y({},t,{mode:d.Vl.View}))}),{})))}),{}),y({},e.id,x({},Object.keys(t[e.id]||{}).reduce((function(e,t){return x({},e,y({},t,{mode:d.Vl.View}))}),{}),y({},e.field,{mode:d.Vl.Edit}))))}))}),[]),D=(0,i.useCallback)((function(e){A(e)}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{severity:"info",sx:{mb:5},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0645\u0648\u062c\u0648\u062f \u062f\u0631 \u062c\u062f\u0648\u0644 \u0632\u06cc\u0631 \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647 \u0645\u0648\u062f\u06cc\u0627\u0646 \u0627\u0631\u0633\u0627\u0644 \u062e\u0648\u0627\u0647\u062f \u0634\u062f. \u062f\u0631 \u0635\u0648\u0631\u062a\u06cc \u06a9\u0647 \u0647\u0631 \u0641\u06cc\u0644\u062f \u0622\u0646 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0627\u0634\u062a \u060c \u0628\u0627 \u06a9\u0644\u06cc\u06a9 \u0628\u0631 \u0631\u0648\u06cc \u0647\u0631 \u0641\u06cc\u0644\u062f\u060c \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0622\u0646 \u0631\u0627 \u0627\u0635\u0644\u0627\u062d \u06a9\u0646\u06cc\u062f."}),(0,r.jsx)(a.Z,{style:{height:1e3,width:"100%"},dir:"ltr",children:(0,r.jsx)(o._,{rows:t,rowCount:t.length,localeText:c.T.components.MuiDataGrid.defaultProps.localeText,columns:C.reverse(),rowsPerPageOptions:[100],cellModesModel:v,onCellModesModelChange:D,onCellClick:k,onCellEditCommit:function(e){if(e.rowNode){var r=t;r[e.rowNode.id][e.field]=e.value,n(w(r))}},sx:{"& .MuiDataGrid-columnHeaderTitle":{whiteSpace:"break-spaces",lineHeight:1},"&.MuiDataGrid-root .MuiDataGrid-columnHeader--alignRight .MuiDataGrid-columnHeaderTitleContainer":{pl:1}}})}),(0,r.jsx)(s.Z,{size:"large",variant:"contained",sx:{m:1},color:"success",onClick:function(){Z(!0);var e=t.flatMap((function(e){return{header:{taxid:e.taxid,indatim:e.indatim,inty:e.inty,inno:e.inno,inp:e.inp,ins:e.ins,tins:e.tins,tob:e.tob,tinb:e.tinb,tprdis:e.tprdis,tdis:e.tdis,tadis:e.tadis,tvam:e.tvam,todam:e.todam,tbill:e.tbill,setm:e.setm,cap:e.cap,tvop:e.tvop},body:{sstid:e.sstid,mu:e.mu,am:e.am,fee:e.fee,prdis:e.prdis,dis:e.dis,adis:e.adis,vra:e.vra,vam:e.vam,odam:e.odam,vop:e.vop,tsstam:e.tsstam},payment:{}}}));u.ZP.promise(b.Z.post("invoice/apply",e,{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))}).then((function(){Z(!1),m()})),{loading:"\u062f\u0631 \u062d\u0627\u0644 \u062b\u0628\u062a",success:" \u062b\u0628\u062a \u0634\u062f",error:function(e){var t,n,r,i;return(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)?null===(r=e.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message:"\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a."}})},children:"\u0627\u0631\u0633\u0627\u0644 \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647"}),(0,r.jsx)(f.Z,{open:j})]})}}}]);